angular.module("pdf-viewer",[]).directive("pdfViewer",["$q",function(a){return{restrict:"E",scope:{url:"@"},link:function(a,b,c){a.$watch("url",function(d){d&&PDFJS.getDocument(a.url).then(function(a){var d=function(e,f){var g=document.createElement("canvas");g.className=c.class?c.class:"",b[0].appendChild(g),a.getPage(e).then(function(a){var b=a.getViewport(1),h=c.width?c.width/b.width:1,i=a.getViewport(h),j=g.getContext("2d"),k={canvasContext:j,viewport:i};g.height=i.height,g.width=i.width,a.render(k),e<f&&d(e+1,f)})},e=function(){for(var a=b[0];a.firstChild;)a.removeChild(a.firstChild)};e(),d(1,a.numPages)})})}}}]);